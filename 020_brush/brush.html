<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>d3.js</title>
    <script src="../common/js/d3.v4.min.js"></script>
    <link rel="stylesheet" href="../common.css" />
</head>
<body>
<h3>Brush</h3>

<div id="output">
</div>

<script>

var svg = d3.select("#output")
        .append("svg")
        .attr("width", 500)
        .attr("height", 300)
        .style("background-color", "#eeeeee");

var text = svg.append("text")
        .attr("x", 10)
        .attr("y", 20);

var brush = d3.brush()
        .on("start brush", brushed)
        .on("end", brushended);

function brushed() {
    var s = d3.event.selection;
    text.text(JSON.stringify(s));
    //...
}
function brushended() {
    if (!d3.event.selection) {
        console.log("cancelled")
        text.text("none")
    }
}

svg.append("g")
        .attr("class", "brush")
        .call(brush)
        .call(brush.move, [[100, 100], [300, 200]]);






</script>


</body>
</html>