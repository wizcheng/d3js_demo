<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>d3.js</title>
    <script src="../common/js/d3.v4.min.js"></script>
    <link rel="stylesheet" href="../common.css" />
</head>
<body>
<h3>Brush</h3>

<div id="output">
</div>

<script>

var brush = d3.brush()
        .on("start brush", brushed)
        .on("end", brushended);
function brushed() {
    var s = d3.event.selection;
    //...
}
function brushended() {
    console.log(d3.event.selection);
    alert(JSON.stringify(d3.event.selection));
    if (!d3.event.selection) {
        console.log(d3.event.selection);
    }
}

var svg = d3.select("#output")
        .append("svg")
        .attr("width", 300)
        .attr("height", 200)
        .style("background-color", "#eeeeee")

svg.append("g")
        .attr("class", "brush")
        .call(brush)
        .call(brush.move, [[100, 100], [120, 160]]);




</script>


</body>
</html>